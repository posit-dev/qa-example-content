FROM postgres:latest

# Set environment variables
ENV POSTGRES_USER=testuser
ENV POSTGRES_PASSWORD=testpassword
ENV POSTGRES_DB=testdb

# Copy the download script
COPY download-sql.sh /docker-entrypoint-initdb.d/
RUN chmod +x /docker-entrypoint-initdb.d/download-sql.sh

# The official postgres image automatically runs scripts in /docker-entrypoint-initdb.d/
# So our download-sql.sh will be executed during container initialization
