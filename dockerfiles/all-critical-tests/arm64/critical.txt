BUILD:
cd dockerfiles/all-critical-tests/arm64
docker build -f Dockerfile.critical.arm -t positron-critical-arm:latest .

RUN ELECTRON CRITICAL TESTS:
docker run -it --rm -p 5900:5900 positron-critical-arm
(-p 5900:5900 is for VNC access to the Electron app)

PASS RATE CURRENTLY:
96% (critical tests)
91% (all tests)

DEBUG:
docker run -it --rm -p 5900:5900 -p 9323:9323 positron-critical-arm bash
(-p 9323:9323 is for the Playwright report viewer)
sudo service xvfb start
export DISPLAY=:10
fluxbox &
sudo x11vnc -forever -nopw -display :10 &
npx playwright test --project "e2e-electron" --workers 1 --grep "Verify Basic Dash App"
npx playwright test --project "e2e-electron" --workers 2
npx playwright show-report --host 0.0.0.0

VIEW UI WITH VNC:
RealVNC Viewer
localhost:5900

TO SEE REPORT ON HOST (from a separate terminal):
docker ps
docker exec -it {CONTAINER_ID} bash
npx playwright show-report --host 0.0.0.0
Then go to http://localhost:9323 in your host browser


INCLUDING A POSTGRES CONTAINER:
docker network create mynetwork
docker run --name local-postgres -p 5432:5432 --network mynetwork -e POSTGRES_USER=testuser -e POSTGRES_PASSWORD=testpassword -e POSTGRES_DB=testdb -d postgres:latest
DOWNLOAD: 
https://github.com/neondatabase-labs/postgres-sample-dbs/blob/main/periodic_table.sql
FROM LOCAL TERMINAL (USE CORRECT PATH TO periodic_table.sql):
psql -h localhost -U testuser -d testdb -f /Users/christophermead/Desktop/periodic_table.sql
THEN:
docker run -it --rm -p 5900:5900 -p 9323:9323 --network mynetwork positron-critical-arm 
OR 
docker run -it --rm -p 5900:5900 -p 9323:9323 --network mynetwork positron-critical-arm bash

